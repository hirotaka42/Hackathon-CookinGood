var j=Object.create;var k=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var F=t=>k(t,"__esModule",{value:!0});var H=(t,e)=>{F(t);for(var o in e)k(t,o,{get:e[o],enumerable:!0})},J=(t,e,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of N(e))!V.call(t,r)&&r!=="default"&&k(t,r,{get:()=>e[r],enumerable:!(o=z(e,r))||o.enumerable});return t},T=t=>J(F(k(t!=null?j(O(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);H(exports,{CountdownCircleTimer:()=>A,useCountdown:()=>R});var C=T(require("react"));var q=T(require("react"));var d=T(require("react")),B=T(require("react")),W=typeof window=="undefined"?B.useEffect:B.useLayoutEffect,D=({isPlaying:t,duration:e,startAt:o=0,updateInterval:r=0,onComplete:i,onUpdate:n})=>{let[u,m]=(0,d.useState)(o),l=(0,d.useRef)(0),p=(0,d.useRef)(o),f=(0,d.useRef)(o*-1e3),s=(0,d.useRef)(null),c=(0,d.useRef)(null),b=(0,d.useRef)(null),y=h=>{let a=h/1e3;if(c.current===null){c.current=a,s.current=requestAnimationFrame(y);return}let x=a-c.current,w=l.current+x;c.current=a,l.current=w;let S=p.current+(r===0?w:(w/r|0)*r),U=p.current+w,G=typeof e=="number"&&U>=e;m(G?e:S),G||(s.current=requestAnimationFrame(y))},g=()=>{s.current&&cancelAnimationFrame(s.current),b.current&&clearTimeout(b.current),c.current=null},$=(0,d.useCallback)(h=>{g(),l.current=0;let a=typeof h=="number"?h:o;p.current=a,m(a),t&&(s.current=requestAnimationFrame(y))},[t,o]);return W(()=>{if(n==null||n(u),e&&u>=e){f.current+=e*1e3;let{shouldRepeat:h=!1,delay:a=0,newStartAt:x}=(i==null?void 0:i(f.current/1e3))||{};h&&(b.current=setTimeout(()=>$(x),a*1e3))}},[u,e]),W(()=>(t&&(s.current=requestAnimationFrame(y)),g),[t,e,r]),{elapsedTime:u,reset:$}};var E=(t,e,o)=>{let r=t/2,i=e/2,n=r-i,u=2*n,m=o==="clockwise"?"1,0":"0,1",l=2*Math.PI*n;return{path:`m ${r},${i} a ${n},${n} 0 ${m} 0,${u} a ${n},${n} 0 ${m} 0,-${u}`,pathLength:l}},P=(t,e)=>t===0||t===e?0:typeof e=="number"?t-e:0,v=t=>({position:"relative",width:t,height:t}),I={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"};var M=(t,e,o,r)=>{if(r===0)return e;let i=t/r;return e+o*i},L=t=>{var e,o;return(o=(e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(r,i,n,u)=>`#${i}${i}${n}${n}${u}${u}`).substring(1).match(/.{2}/g))==null?void 0:e.map(r=>parseInt(r,16)))!=null?o:[]},K=(t,e)=>{var f;let{colors:o,colorsTime:r,isSmoothColorTransition:i=!0}=t;if(typeof o=="string")return o;let n=(f=r==null?void 0:r.findIndex((s,c)=>s>=e&&e>=r[c+1]))!=null?f:-1;if(!r||n===-1)return o[0];if(!i)return o[n];let u=r[n]-e,m=r[n]-r[n+1],l=L(o[n]),p=L(o[n+1]);return`rgb(${l.map((s,c)=>M(u,s,p[c]-s,m)|0).join(",")})`},R=t=>{let{duration:e,initialRemainingTime:o,updateInterval:r,size:i=180,strokeWidth:n=12,trailStrokeWidth:u,isPlaying:m=!1,rotation:l="clockwise",onComplete:p,onUpdate:f}=t,s=(0,q.useRef)(),c=Math.max(n,u!=null?u:0),{path:b,pathLength:y}=E(i,c,l),{elapsedTime:g}=D({isPlaying:m,duration:e,startAt:P(e,o),updateInterval:r,onUpdate:typeof f=="function"?h=>{let a=Math.ceil(e-h);a!==s.current&&(s.current=a,f(a))}:void 0,onComplete:typeof p=="function"?h=>{var S;let{shouldRepeat:a,delay:x,newInitialRemainingTime:w}=(S=p(h))!=null?S:{};if(a)return{shouldRepeat:a,delay:x,newStartAt:P(e,w)}}:void 0}),$=e-g;return{elapsedTime:g,path:b,pathLength:y,remainingTime:Math.ceil($),rotation:l,size:i,stroke:K(t,$),strokeDashoffset:M(g,0,y,e),strokeWidth:n}};var A=t=>{let{children:e,strokeLinecap:o,trailColor:r,trailStrokeWidth:i}=t,{path:n,pathLength:u,stroke:m,strokeDashoffset:l,remainingTime:p,elapsedTime:f,size:s,strokeWidth:c}=R(t);return C.default.createElement("div",{style:v(s)},C.default.createElement("svg",{viewBox:`0 0 ${s} ${s}`,width:s,height:s,xmlns:"http://www.w3.org/2000/svg"},C.default.createElement("path",{d:n,fill:"none",stroke:r!=null?r:"#d9d9d9",strokeWidth:i!=null?i:c}),C.default.createElement("path",{d:n,fill:"none",stroke:m,strokeLinecap:o!=null?o:"round",strokeWidth:c,strokeDasharray:u,strokeDashoffset:l})),typeof e=="function"&&C.default.createElement("div",{style:I},e({remainingTime:p,elapsedTime:f,color:m})))};A.displayName="CountdownCircleTimer";
